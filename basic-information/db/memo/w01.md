正規化は既に業務で用いられている書類等をテーブル化していく
ボトムアップ型の設計手法

ER図は仕様からテーブルを設計していく
トップダウン型の設計手法

エンティティ
  物や概念

名詞：エンティティ
動詞：リレーションシップ

多いほうに〇を付ける

---

### w03

正規化(normalization)
  ◼ テーブル(表)の項目の繰り返しや冗長な部分を削除し、メンテナンス性向上のためにテーブルを分割していく設計手法
  ※冗長：長くて無駄のある状態
  ◼ 第１～第５正規化までの過程があるが、通常は第３正規化まで行われていればよい

テーブルについて
  1. 主キーの値が同じレコードがあってはならない⇒主キーの一意(ユニーク:unique)性 ※ユニークにするために、主キーは連番にすることが多い
  2. 主キーはnullであってはいけない(主キー以外はnullでも可)
  3. ２つのキーを組み合わせたらユニークになる場合、それらの組み合わせを主キーとする場合もある(連結キー)

正規化
  ◼ 第１正規化：主キーを設定し、繰り返しの部分を複数のレコードにして繰り返しを排除する操作(1レコード1行)
  ◼ 第2正規化：主キー(or連結キー)に着目して，(部分)関数従属する項目を分離する操作
  ◼ 第3正規化：主キー以外のキーに着目して，関数従属する項目を分離する操作

関数従属
  ◼ Aを一つ決めれば、Bが一意に決まるような関係がある場合 BはAに(部分)関数従属していると言い、A→Bと表す
  ※これはER図の場合、AとBは1対多の関係にある
  ◼ A→B→Cという場合は、AとCは推移関数従属関係と言う

  例：学籍番号→学生氏名
  (同姓同名があり得るので、学生氏名→学籍番号ではない)

  注文IDが決まると注文日とユーザー名と住所が決まる　→　この３つは注文IDだけに関数従属

全ての項目が1つの主キーまたは連結キーに関数従属している　→　第２正規化完了

なぜ正規化をするの？
  第１正規化：データをリレーショナルデータベースに登録できる形式にするため
  第2,3正規化：無駄が多く，メンテナンスもしづらい
  第1正規形の重複データを削除するため